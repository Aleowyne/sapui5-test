<mvc:View
	displayBlock="true"
	controllerName="test6.controller.ListProducts"
	xmlns="sap.m"
	xmlns:mvc="sap.ui.core.mvc"
>
	<App>
		<pages>
			<Page title="{i18n>appTitle}">
				<content>
					<IconTabBar
						id="iconTabBar"
						select="onQuickFilter"
						expandable="false"
					>
						<items>
							<IconTabFilter
								key="all"
								showAll="true"
								count="{i18n>productsTitle}"
							/>
							<IconTabSeparator/>
							<IconTabFilter
								key="cheap"
								icon="sap-icon://waiver"
								iconColor="Positive"
								count="{listProductsView>/cheap}"
								text="{i18n>filterCheap}"
							/>
							<IconTabFilter
								key="moderate"
								icon="sap-icon://loan"
								iconColor="Critical"
								count="{listProductsView>/moderate}"
								text="{i18n>filterModerate}"
							/>
							<IconTabFilter
								key="expensive"
								icon="sap-icon://money-bills"
								iconColor="Negative"
								count="{listProductsView>/expensive}"
								text="{i18n>filterExpensive}"
							/>
						</items>
						<content>
							<Table
								id="table"
								width="auto"
								class="sapUiResponsiveMargin"
								items="{ 
											path: 'vendorsOData>/ProductSet',
											parameters: {
												expand: 'ToVendor'
											}
										}"
								growing="true"
								growingScrollToLoad="true"
								updateFinished="onUpdateFinished"
							>
								<headerToolbar>
									<Toolbar>
										<Title
											id="tableHeader"
											text="{i18n>listProductTitle}"
										/>
									</Toolbar>
								</headerToolbar>
								<columns>
									<Column id="nameColumn">
										<Text
											text="{i18n>nameColumnTitle}"
											id="nameColumnTitle"
										/>
									</Column>
									<Column
										id="vendorNameColumn"
										demandPopin="true"
										minScreenWidth="Tablet"
									>
										<Text text="{i18n>vendorColumnTitle}"/>
									</Column>
									<Column
										id="webAddressColumn"
										demandPopin="false"
										minScreenWidth="Tablet"
									>
										<Text text="{i18n>webAddressColumnTitle}"/>
									</Column>
									<Column
										id="priceColumn"
										hAlign="End"
									>
										<Text
											text="{i18n>priceColumnTitle}"
											id="priceColumnTitle"
										/>
									</Column>
								</columns>
								<items>
									<ColumnListItem>
										<cells>
											<ObjectIdentifier
												title="{vendorsOData>ID}"
												text="{vendorsOData>Name}"
											/>
											<Text text="{vendorsOData>ToVendor/VendorName}"/>
											<Link
												text="{vendorsOData>ToVendor/WebAddress}"
												href="{vendorsOData>ToVendor/WebAddress}"
												target="_blank"
											/>
											<ObjectNumber number="{vendorsOData>Price}"/>
										</cells>
									</ColumnListItem>
								</items>
							</Table>
						</content>
					</IconTabBar>
				</content>
			</Page>
		</pages>
	</App>
</mvc:View>